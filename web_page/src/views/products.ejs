<%- include('partials/_productsHeader'); %>

<body>
    <section class="sub-header">
        <%- include('partials/_nav'); %>
        <h1>Nuestros productos</h1>
    </section>

<!--------- Politica de Proteccion de Datos --------->

<div class="container-fluid">
    <table id="articleTable" class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>MARCA</th>
                <th>MODELO</th>                                
                <th>AÑO</th>
                <th>DESCRIPCIÓN</th>
                <th>TIPO</th>                                
                <th>VALOR UNITARIO</th>                                                  
            </tr>
        </thead>
        <tbody>
            <% if (data) { %>
                <% for (var i = 0; i < data.length; i++) { %>
                <tr>
                    <td><%= data[i].MARCA %></td>
                    <td><%= data[i].MODELO %></td>
                    <td><%= data[i].AÑO %></td>
                    <td id="thDescription"><%= data[i].DESCRIPCION %></td>
                    <td><%= data[i].TIPO %></td>
                    <td><%= data[i].VALOR_UNITARIO %></td>
                </tr>
                <% } %>
            <% } %>
        </tbody>
    </table>
</div>

<script type="text/javascript" language="javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.22/js/dataTables.bootstrap5.min.js"></script>        
<script>
 $(document).ready(function() {   
     var url = 'http://localhost:3306/api/articulos';

      $('#tablaArticulos').DataTable({            
          "ajax":{
              "url": url,
              "dataSrc":""
          },
          "columns":[
              {"data":"id"},
              {"data":"descripcion"},
              {"data":"precio"},
              {"data":"stock"},
          ],
          "columnDefs":[{
              "targets":[2],
              render(v){
                  return Number(v).toFixed(2)
              }
          }]
      });
});
</script>


<!---------Footer--------->

<%- include('partials/_footer'); %>